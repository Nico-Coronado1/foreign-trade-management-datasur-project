{"ast":null,"code":"var _jsxFileName = \"/home/nicolas/Desktop/foreign-trade-management/frontend/src/context/AppContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppReducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_PRODUCT_SUCCESS':\n      console.log(action.payload);\n      return {\n        ...state,\n        products: action.payload\n      };\n    case 'FETCH_TYPES_SUCCESS':\n      return {\n        ...state,\n        types: action.payload\n      };\n    case 'FETCH_FAILURE':\n      console.log('error');\n      return {\n        ...state,\n        error: action.payload\n      };\n    case 'CREATE_PRODUCT':\n      return {\n        ...state\n      };\n    case \"CHANGE_TO_EXPORT_LIST_BY_TYPE\":\n      if (!action.payload) {\n        return state;\n      }\n      // solo cambiar a los productos que no tengan valor en el campo exportedQuantity.\n      // let updateToExportListByType = state.products.filter((product) =>)\n      return {\n        ...state\n      };\n    case \"CHANGE_EXPORTED_LIST_BY_TYPE\":\n      if (!action.payload) {\n        return state;\n      }\n      // solo cambiar sacar los que tiene numero en el campo exportedQuantity\n      let updatedExportedListByType = state.products.filter(product => product.type === action.payload);\n      return {\n        ...state,\n        products: updatedExportedListByType\n      };\n    case \"EXPORT_PRODUCT\":\n      return {\n        ...state\n      };\n    default:\n      return state;\n  }\n};\n_c = AppReducer;\nconst initialState = {\n  error: null,\n  types: [],\n  ExportedProducts: 0,\n  products: [{}]\n};\nexport const AppContext = /*#__PURE__*/createContext();\nexport const AppProvider = props => {\n  _s();\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('products/api/products');\n        const data = await response.json();\n        dispatch({\n          type: 'FETCH_PRODUCT_SUCCESS',\n          payload: data.products\n        });\n      } catch (error) {\n        dispatch({\n          type: 'FETCH_FAILURE',\n          payload: error.message\n        });\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('types/api/types');\n        const data = await response.json();\n        dispatch({\n          type: 'FETCH_TYPES_SUCCESS',\n          payload: data.types.types\n        });\n      } catch (error) {\n        dispatch({\n          type: 'FETCH_FAILURE',\n          payload: error.message\n        });\n      }\n    };\n    fetchData();\n  }, []);\n  let exportedProducts = state.products.reduce((total, product) => total + product.exported_quantity, 0);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      products: state.products,\n      dispatch,\n      exportedProducts: exportedProducts,\n      countries: state.countries,\n      types: state.types\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n_s(AppProvider, \"GUSXxL/WUElrtHc/X73NyHNRMdw=\");\n_c2 = AppProvider;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppReducer\");\n$RefreshReg$(_c2, \"AppProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useReducer","jsxDEV","_jsxDEV","AppReducer","state","action","type","console","log","payload","products","types","error","updatedExportedListByType","filter","product","_c","initialState","ExportedProducts","AppContext","AppProvider","props","_s","dispatch","fetchData","response","fetch","data","json","message","exportedProducts","reduce","total","exported_quantity","Provider","value","countries","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["/home/nicolas/Desktop/foreign-trade-management/frontend/src/context/AppContext.js"],"sourcesContent":["import React, {createContext, useEffect, useReducer} from 'react';\n\nexport const AppReducer = (state, action) => {\n    switch (action.type){\n        case 'FETCH_PRODUCT_SUCCESS':\n            console.log(action.payload)\n            return {...state, products: action.payload}\n        case 'FETCH_TYPES_SUCCESS':\n            return {...state, types: action.payload}\n        case 'FETCH_FAILURE':\n            console.log('error')\n            return {...state, error: action.payload}\n        case 'CREATE_PRODUCT':\n            return {...state}\n        case \"CHANGE_TO_EXPORT_LIST_BY_TYPE\":\n            if (!action.payload){\n                return state\n            }\n            // solo cambiar a los productos que no tengan valor en el campo exportedQuantity.\n            // let updateToExportListByType = state.products.filter((product) =>)\n            return {...state}\n        case \"CHANGE_EXPORTED_LIST_BY_TYPE\":\n            if (!action.payload){\n                return state\n            }\n            // solo cambiar sacar los que tiene numero en el campo exportedQuantity\n            let updatedExportedListByType = state.products.filter((product) => product.type === action.payload)\n            return{\n                ...state,\n                products: updatedExportedListByType\n            };\n        case \"EXPORT_PRODUCT\":\n            return {...state,}\n        default:\n            return state\n    }\n}\n\nconst initialState = {\n    error: null,\n    types:[],\n    ExportedProducts: 0,\n    products: [{}],\n};\n\nexport const AppContext = createContext();\nexport const AppProvider = (props) => {\n    const [state, dispatch] = useReducer(AppReducer, initialState);\n    useEffect(() => {\n        const fetchData = async () => {\n        try {\n            const response = await fetch('products/api/products');\n            const data = await response.json();\n            dispatch({ type: 'FETCH_PRODUCT_SUCCESS', payload: data.products });\n        } catch (error) {\n            dispatch({ type: 'FETCH_FAILURE', payload: error.message });\n            }\n        };\n        fetchData();\n    }, []);\n   useEffect(() => {\n        const fetchData = async () => {\n        try {\n            const response = await fetch('types/api/types');\n            const data = await response.json();\n            dispatch({ type: 'FETCH_TYPES_SUCCESS', payload: data.types.types });\n        } catch (error) {\n            dispatch({ type: 'FETCH_FAILURE', payload: error.message });\n            }\n        };\n        fetchData();\n    }, []);\n\n    let exportedProducts = state.products.reduce((total, product) => total + product.exported_quantity, 0);\n    return (\n        <AppContext.Provider\n            value={{\n                products: state.products,\n                dispatch,\n                exportedProducts: exportedProducts,\n                countries: state.countries,\n                types: state.types\n            }}\n        >\n            {props.children}\n        </AppContext.Provider>\n    );\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}